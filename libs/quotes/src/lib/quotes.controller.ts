import { Body, Controller, Get, Param, Post } from '@nestjs/common'

import { ISubmitQuote } from '@qover/shared-quote'
import { QuotesService } from './quotes.service'

@Controller('quotes')
export class QuotesController {

    ///////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////// Constructor ///////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    constructor(private readonly quotesService: QuotesService) {}

    ///////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////// Routes ////////////////////////////////////////////////////
    ///////////////////////////////////////////////////////////////////////////////////////////////

    @Post()
    postQuotes(@Body() quote: ISubmitQuote) {

    }

    @Get('cars')
    getCars() {
        return this.quotesService.findAllCars()
    }
    
    @Get('offers/:quoteId')
    getOffer(@Param('quoteId') quoteId: number) {
        return this.quotesService.getOffer(quoteId)
   }

    @Get('plans')
    getPlans() {
        return this.quotesService.findAllPlans()
    }
}
